@@include('../inc/pagehead.inc',{
  "pagetitle":" | 메세지",
  "webroot":".."
  })
  </head>
  
  <body>
    <div class="skipnavigation"><a href="#container">skip to container</a></div>
    <div id="wrap">
      @@include('../inc/header.inc',{
      "webroot":"..",
      "headertype":""
      }) 
  
      <div id="container" class="container">
        <div class="message">
          <div class="inner">
            <div class="message__container">
              <div class="message__aside">
                <div class="content">
                  <div class="content__head">
                    <h2 class="content__title">올톡</h2>
                    <div class="content__head-button">
                      <div type="button" class="head-button list-insearch-toggle"><div class="ico__search ico__search--gray"><span class="a11y">검색</span></div></div>
                    </div>
                    <div class="textfield" style="max-width: 100%; display: none;">
                      <i class="textfield__icon ico__search"><span class="a11y">검색</span></i>
                      <input type="text" class="textfield__search" placeholder="Placeholder" style="width: 100%;">
                      <button type="button" class="textfield__icon--delete ico__sdelete"><span class="a11y">삭제하기</span></button>
                    </div>
                  </div>
                  <div class="aside">
                    ul> li*999
                  </div>
                </div>
              </div>
              <div class="message__section">
                <div class="content">
                  <div class="content__head">
                    <div class="content__info">
                      <figure class="logo"><img src="../assets/images/temp/dummy-logo.png"></figure>
                      <h2 class="content__title">코윈스</h2>
                      <div class="alarm">알림 켜짐</div>
                      <div type="button" class="head-button navi-toggle" aria-checked="true"><div class="ico__arrow--down14"><span class="a11y">더 보기</span></div></div>
                    </div>
                    <div class="content__head-button">
                      <div type="button" class="head-button dialogue-insearch-toggle" aria-checked="false"><div class="ico__search ico__search--gray"><span class="a11y">검색</span></div></div>
                      <div type="button" class="head-button usermenu-toggle" aria-checked="true"><div class="ico__more"><span class="a11y">더 보기</span></div></div>
                    </div>
                    <div class="content__navi" aria-hidden="false">
                      <div class="row">서울, 경기</div>
                      <div class="row cate">
                        <div class="cate__badge">진열장/장식장</div>
                        <div class="cate__badge">소파/거실</div>
                        <div class="cate__badge">식탁/의자</div>
                        <div class="cate__badge">안락의자/기능성의자</div>
                        <div class="cate__badge">서재/공부방</div>
                      </div>
                      <a href="#" class="row navi-link">업체 자세히 보기<span class="ico__arrow--right14"></span></a>
                    </div>
                    <div class="content__usermenu" aria-hidden="false">
                      <div type="button" class="usermenu__item">알림끄기</div>
                      <div type="button" class="usermenu__item">신고하기</div>
                    </div>
                    <div class="dialogue-insearch" aria-hidden="true">
                      <div type="button" class="head-button dialogue-insearch-close" aria-checked="true"><div class="ico__arrow--big_left24"><span class="a11y">뒤로 가기</span></div></div>
                      <div class="textfield">
                        <div class="ico__search"><span class="a11y">검색</span></div>
                        <input type="text" class="textfield__input textfield__input--gray" placeholder="대화 내용을 검색해주세요." />
                      </div>
                    </div>
                  </div>
                  <div class="section">
                    <div id="dialogue" class="dialogue">
                      <div class="date"><span>0000년 0월 00일 월요일</span></div>
                      <div class="chat-box chat-box--product chat-box--right">
                        <div class="chat chat--product chat--right">
                          <div class="chat-box__head">상품 문의드립니다.</div>
                          <div class="chat-box__inner">
                            <div class="product-thumnail" style="background-image: url(../assets/images/temp/dummy-thumnail.png);"></div>
                            <div class="product-info">
                              <div class="product-info__title">포그니 라운드 소파</div>
                              <div class="product-info__desc"><span class="price">630,000</span><span class="unit">원</span></div>
                            </div>
                          </div>
                        </div>
                        <div class="timestamp timestamp--right"><span>00</span><span>:</span><span>00</span></div>
                      </div>
                      <div class="chat-box chat-box--right">
                        <div class="chat chat--right">
                          ㅇㅇ
                        </div>
                        <div class="timestamp timestamp--right"><span>00</span><span>:</span><span>00</span></div>
                      </div>
                      <div class="chat-box chat-box--right">
                        <div class="chat chat--right">
                          가득 딴은 나는 흙으로 가난한 별 버리었습니다. 새겨지는 언덕 써 청춘이 별 잔디가 된 릴케 무엇인지 봅니다. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 벌써 써 위에 파란 나는 듯합니다. 내 계절이 가을로 사랑과 까닭입니다. 밤을 새겨지는 겨울이 자랑처럼 덮어 추억과 벌레는 봄이 이름을 계절이 당신은 별 릴케 이런 버리었습니다.
                        </div>
                        <div class="timestamp timestamp--right"><span>00</span><span>:</span><span>00</span></div>
                      </div>
                      <div class="chat-box chat-box--left">
                        <div class="chat chat--left">
                          도매업체 답변입니다.
                        </div>
                        <figure class="avatar"><img src="../assets/images/temp/dummy-logo.png"></figure>
                        <div class="timestamp timestamp--left"><span>00</span><span>:</span><span>00</span></div>
                      </div>
                      <div class="chat-box chat-box--left">
                        <div class="chat chat--left chat--photo" style="height: 390px; background-image: url(../assets/images/temp/dummy-img.png);"></div>
                        <div class="timestamp timestamp--left"><span>00</span><span>:</span><span>00</span></div>
                      </div>
                      <div class="chat-box chat-box--left">
                        <div class="chat chat--left chat--disabled">
                          이미지가 만료되었습니다.
                        </div>
                        <div class="timestamp timestamp--left"><span>00</span><span>:</span><span>00</span></div>
                      </div>
                      <div class="chat-box chat-box--order chat-box--left">
                        <div class="chat chat--order chat--left">
                          <div class="chat-box__head">주문번호: <span>22042720</span></div>
                          <div class="order-info__title">
                            거래가 확정되었습니다. <br>
                            상품이 준비 중이니 기다려주세요!
                          </div>
                          <a href="#" type="button" class="order-info__button button--blank">주문 현황 보러가기</a>
                        </div>
                        <div class="timestamp timestamp--left"><span>00</span><span>:</span><span>00</span></div>
                      </div>
                    </div>
                    <div class="section__bottom">
                      <div class="product-quotation">
                        <div class="row">포그니 라운드 소파</div>
                        <div class="row cate">상품 문의</div>
                        <div class="section__bottom-button">
                          <div type="button" class="bottom-button" onclick="DeleteTarget()">
                            <div class="ico__delete12"><span class="a11y">삭제하기</span></div>
                          </div>
                        </div>
                      </div>
                      <div class="section__bottom-button">
                        <div type="button" class="bottom-button"><div class="ico__gallery-image"><span class="a11y">사진 불러오기</span></div></div>
                      </div>
                      <div class="textfield">
                        <input 
                        id="chatbox" 
                        class="message-input textfield__input textfield__input--gray" 
                        type="text" 
                        name="chat" 
                        placeholder="메세지를 입력해주세요." 
                        onfocus="ResetInput()" 
                        />
                      </div>
                      <button type="submit" disabled="" class="message-submit">전송</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
        </div>
      </div>
    </div>
    <script src="../assets/js/ui.js" type="text/javascript"></script>
    <script>
      const opener = document.querySelector('.dialogue-insearch-toggle');
      const closer = document.querySelector('.dialogue-insearch-close');
      const targetInputBox = document.querySelector('.dialogue-insearch');
      let openerStatus = opener.getAttribute('aria-checked');
      let targetStatus = targetInputBox.getAttribute('aria-hidden');

      const toggleUsermenu = document.querySelector(".usermenu-toggle");
      const usermenu = document.querySelector(".content__usermenu");
      let toggleChecked = toggleUsermenu.getAttribute('aria-checked');
      let menuStatus = usermenu.getAttribute('aria-hidden');

      const toggleNavi = document.querySelector(".navi-toggle");
      const navi = document.querySelector(".content__navi");
      let buttonStatus = toggleNavi.getAttribute('aria-checked');
      let naviStatus = navi.getAttribute('aria-hidden');

      const SectionSearch = () => {

        opener.addEventListener('click', () => {
          console.log('서치창 클릭');

          if (!openerStatus) { 
            opener.setAttribute('aria-checked', true);
            openerStatus = true;
            targetInputBox.setAttribute('aria-hidden', false);
            targetStatus = false;
          } else { 
            opener.setAttribute('aria-checked', false);
            openerStatus = false;
            targetInputBox.setAttribute('aria-hidden', true);
            targetStatus = true;

            toggleNavi.setAttribute('aria-checked', false);
            buttonStatus = false;
            navi.setAttribute('aria-hidden', true);
            naviStatus = true;

            toggleUsermenu.setAttribute('aria-checked', false);
            toggleChecked = false;
            usermenu.setAttribute('aria-hidden', true);
            menuStatus = true;
          }
        }, true)
      }
      SectionSearch();

      const CloseTarget = () => {
        closer.addEventListener('click', () => {
          opener.setAttribute('aria-checked', false);
          openerStatus = false;
          targetInputBox.setAttribute('aria-hidden', true);
          targetStatus = true;
        })
      }
      CloseTarget();

      const ToggleHeadNavi = () => {
      
        toggleNavi.addEventListener('click', () => {
          if (!buttonStatus) { 
            toggleNavi.setAttribute('aria-checked', true);
            buttonStatus = true;
            navi.setAttribute('aria-hidden', false);
            naviStatus = false;
          } else { 
            toggleNavi.setAttribute('aria-checked', false);
            buttonStatus = false;
            navi.setAttribute('aria-hidden', true);
            naviStatus = true;
          }
        }, true)
      }
      ToggleHeadNavi();
      
      const ToggleHeadUsermenu = () => {
      
        toggleUsermenu.addEventListener('click', () => {
          if (toggleChecked) { 
            toggleUsermenu.setAttribute('aria-checked', false);
            toggleChecked = false;
            usermenu.setAttribute('aria-hidden', true);
            menuStatus = true;
          } else { 
            toggleUsermenu.setAttribute('aria-checked', true);
            toggleChecked = true;
            usermenu.setAttribute('aria-hidden', false);
            menuStatus = false;
          }
        }, true)
      }
      ToggleHeadUsermenu();

      const DialogueHeight = () => {
        const dialogue = document.querySelector('#dialogue');
        const quotation = document.querySelector('.product-quotation');

        if (quotation === null) {
          return;
        } else {
          let targeH = quotation.clientHeight;
          dialogue.style.height = `calc(100% - 73px - ${targeH}px)`;
        }
      }
      DialogueHeight();

      function DeleteTarget() {
        document.querySelector(".product-quotation").style.display = 'none';
        DialogueHeight();
      }

      function ResetInput() {
        document.getElementById("chatbox").placeholder = '';
      }
    </script>
  </body>
  </html>